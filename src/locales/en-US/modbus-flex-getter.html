<script type="text/x-red" data-help-name="modbus-flex-getter">
    <p>
        Modbus flexible input triggered read node with connection input parameters.
    </p>
    <p>Connects to a Modbus TCP or serial to read coils/inputs/registers at the rate of the incoming msg.</p>
    <p>
        <h4>Function codes (1:4) currently supported include:</h4>

        <ul>
          <li>FC 1: Read Coil Status</li>
          <li>FC 2: Read Input Status</li>
          <li>FC 3: Read Holding Registers</li>
          <li>FC 4: Read Input Registers</li>
        </ul>
    </p>

     <p>
         <strong>Input parameter for connecting Modbus</strong>
         <ul>
             <li>unitid (0..255 tcp | 0..247 serial) - overrides default Unit-ID</li>
             <li>fc (1..4)</li>
             <li>start address (0:65535)</li>
             <li>quantity (1:65535) of coils/inputs/registers to be read from the start address</li>
         </ul>
     </p>

     <p>Output 1: data Array (PDU), modbus response Buffer, input message</p>
     <p>Output 2: modbus response Buffer, data Array (PDU), input message</p>

     <p>Function node code example for single input:</p>
     <code>
        msg.payload = { value: msg.payload, 'fc': 1, 'unitid': 1, 'address': 0 , 'quantity': 1 }
        return msg
     </code>

     <p>Function node code example for multiple inputs:</p>
     <code>
        msg.payload = { value: msg.payload, 'fc': 3, 'unitid': 1, 'address': 0 , 'quantity': 10 }
        return msg
     </code>

     <p>
        The status of the Flex-Getter-Node is "active"  if the operating system opens up the dev with no error.
        Connection issues with your ethernet connection won't affect this status.
        Warnings and notifications about ethernet connection issues will be displayed in the Debug-window.
    </p>

    <p>
        To use the Flex-Getter-Node with "split"- and "join"-nodes, please make sure to enable "Keep Msg Properties" in the nodes' "Optionals" properties.
    </p>


</script>