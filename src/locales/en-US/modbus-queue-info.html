<script type="text/x-red" data-help-name="modbus-queue-info">
    <p><strong>
        A queue is set per unit - setup the unit-id to get the right information.
    </strong></p>

    <p>Modbus TCP/Serial queue information node.</p>

     <p>Unit-Id (0..255 tcp | 0..247 serial)</p>
     <p>Unit-Id 0 is for broadcasting Modbus messages.</p>

     <p>Use inject of <pre>msg.resetQueue = true</pre> to
      reset the queue.</p>

      <p>Reset on high level to connect with the catch node</p>
      <p><pre>
        [{"id":"430f76bf.9de2d8","type":"function","z":"b245d3e4.b52de","name":"reset on High",
        "func":"if(\"high level reached\" === msg.state) {\n    msg.payload.resetQueue = true;\n    return msg;\n}\n",
        "outputs":1,"noerr":0,"x":410,"y":140,"wires":[[]]}]
      </pre></p>

      <p>Reset on high high level to connect with the catch node</p>
      <p>
          <pre>
            [{"id":"fc74491.2ddc9b8","type":"function","z":"b245d3e4.b52de","name":"reset on HighHigh",
            "func":"if(\"high high level reached\" === msg.state) {\n    msg.payload.resetQueue = true;\n    return msg;\n}\n",
            "outputs":1,"noerr":0,"x":430,"y":180,"wires":[[]]}]
          </pre>
      </p>

     <p>
        An update of all unit queues can be watched by checking the option "All Queues (0-255)".
        With that option it sends out messages per queue event with the queue number and info.
        Use just a single queue info node per client configuration if you activate that option!
        A reset input will reset all queues (0-255) in that mode.
     </p>

     <p>"Error on high level" with that option the node sends
     an error if high level is reached and on high high level.</p>

     <p>With reaching the high level there comes a warning
     and with the high high an error for work with the catch node</p>

     <p>Output: all queue information - use complete msg with debug</p>

</script>